<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础语法 | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just play">
    
    <link rel="preload" href="happy/assets/css/0.styles.064a8518.css" as="style"><link rel="preload" href="happy/assets/js/app.0c253acf.js" as="script"><link rel="preload" href="happy/assets/js/2.5c7df89f.js" as="script"><link rel="preload" href="happy/assets/js/23.35348b5a.js" as="script"><link rel="prefetch" href="happy/assets/js/10.10a38828.js"><link rel="prefetch" href="happy/assets/js/11.af273b36.js"><link rel="prefetch" href="happy/assets/js/12.3ad80a49.js"><link rel="prefetch" href="happy/assets/js/13.9b018869.js"><link rel="prefetch" href="happy/assets/js/14.b5faa797.js"><link rel="prefetch" href="happy/assets/js/15.d4ac48cc.js"><link rel="prefetch" href="happy/assets/js/16.4ee78351.js"><link rel="prefetch" href="happy/assets/js/17.d0d2a9d1.js"><link rel="prefetch" href="happy/assets/js/18.453739ee.js"><link rel="prefetch" href="happy/assets/js/19.8b649bb1.js"><link rel="prefetch" href="happy/assets/js/20.909b54bf.js"><link rel="prefetch" href="happy/assets/js/21.2cd5b798.js"><link rel="prefetch" href="happy/assets/js/22.5c119304.js"><link rel="prefetch" href="happy/assets/js/24.edf1f876.js"><link rel="prefetch" href="happy/assets/js/25.d041ea80.js"><link rel="prefetch" href="happy/assets/js/26.984c46f5.js"><link rel="prefetch" href="happy/assets/js/27.9d9aa23d.js"><link rel="prefetch" href="happy/assets/js/28.0515fb22.js"><link rel="prefetch" href="happy/assets/js/29.7bf32ef6.js"><link rel="prefetch" href="happy/assets/js/3.09ab5b7b.js"><link rel="prefetch" href="happy/assets/js/4.155b81e7.js"><link rel="prefetch" href="happy/assets/js/5.af89da7c.js"><link rel="prefetch" href="happy/assets/js/6.873cef35.js"><link rel="prefetch" href="happy/assets/js/7.09aa5f70.js"><link rel="prefetch" href="happy/assets/js/8.d395f145.js"><link rel="prefetch" href="happy/assets/js/9.926b0d5b.js">
    <link rel="stylesheet" href="happy/assets/css/0.styles.064a8518.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/happy/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/happy/base/" class="sidebar-heading clickable router-link-active open"><span>基础知识</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/happy/base/html/" class="sidebar-heading clickable"><span>HTML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/happy/base/html/bom.html" class="sidebar-link">BOM</a></li><li><a href="/happy/base/html/dom.html" class="sidebar-link">DOM</a></li><li><a href="/happy/base/html/event.html" class="sidebar-link">事件系统</a></li><li><a href="/happy/base/html/render.html" class="sidebar-link">URL从输入到呈现</a></li><li><a href="/happy/base/html/meta.html" class="sidebar-link">meta</a></li><li><a href="/happy/base/html/link.html" class="sidebar-link">link</a></li><li><a href="/happy/base/html/canvas.html" class="sidebar-link">canvas和svg</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/happy/base/css/" class="sidebar-heading clickable"><span>CSS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/happy/base/css/selectors.html" class="sidebar-link">选择器</a></li><li><a href="/happy/base/css/layout.html" class="sidebar-link">布局</a></li><li><a href="/happy/base/css/responsive.html" class="sidebar-link">响应式</a></li><li><a href="/happy/base/css/module.html" class="sidebar-link">模块化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/happy/base/js/" class="sidebar-heading clickable router-link-active open"><span>JS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/happy/base/js/base.html" aria-current="page" class="active sidebar-link">基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/happy/base/js/base.html#_1-变量声明" class="sidebar-link">1. 变量声明</a></li><li class="sidebar-sub-header"><a href="/happy/base/js/base.html#_2-数据类型" class="sidebar-link">2. 数据类型</a></li><li class="sidebar-sub-header"><a href="/happy/base/js/base.html#_3-类型判断" class="sidebar-link">3. 类型判断</a></li></ul></li><li><a href="/happy/base/js/action-scope.html" class="sidebar-link">作用域</a></li><li><a href="/happy/base/js/prototype.html" class="sidebar-link">原型和继承</a></li><li><a href="/happy/base/js/async.html" class="sidebar-link">异步编程</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/happy/framework/" class="sidebar-heading clickable"><span>前端框架</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/happy/framework/vue/" class="sidebar-heading clickable open"><span>VUE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/happy/framework/vue/theory.html" class="sidebar-link">核心原理</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基础语法"><a href="#基础语法" class="header-anchor">#</a> 基础语法</h1> <h2 id="_1-变量声明"><a href="#_1-变量声明" class="header-anchor">#</a> 1. 变量声明</h2> <p>ES5中有<code>var</code> 和 <code>function</code></p> <ul><li>都具有声明提升，<code>function</code>优先级高于<code>var</code></li> <li>重复声明会忽略声明语句，赋值语句会生效</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//分别输出undefined  undefined  1</span>
</code></pre></div><p>ES6中有<code>let</code> 、<code>const</code> 、<code>import</code> 、<code>class</code>分别声明变量、只读的常量、模块和类</p> <ul><li><code>let</code>、<code>const</code> 不存在变量提升，有块级作用域({...块级作用域})</li> <li>在代码块内，使用<code>let</code>命令声明变量之前，该变量都是不可用的,“暂时性死区”也意味着<code>typeof</code>不再是一个百分之百安全的操作</li> <li><code>let</code>不允许在相同作用域内，重复声明同一个变量</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TDZ开始</span>
  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError tmp is not defined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError tmp is not defined</span>

  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span> <span class="token comment">// TDZ结束</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

  tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>const</code>实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，<code>const</code>只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可执行</span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// 可执行</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Dave'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 报错</span>
</code></pre></div><ul><li><code>var</code>命令和<code>function</code>命令声明的全局变量，依旧是顶层对象的属性；另一方面规定，<code>let</code>命令、<code>const</code>命令、<code>class</code>命令声明的全局变量，不属于顶层对象的属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 如果在 Node 的 REPL 环境，可以写成 global.a</span>
<span class="token comment">// 或者采用通用方法，写成 this.a</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 1</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>b <span class="token comment">// undefined</span>
</code></pre></div><h3 id="commonjs与import"><a href="#commonjs与import" class="header-anchor">#</a> CommonJS与import</h3> <ul><li><code>CommonJS</code>输入时必须查找对象属性，整体加载一个模块，生成一个对象，在对象上读取方法，称为运行时加载</li> <li><code>import</code>只是加载模块的属性和方法，其他方法不加载，称为“编译时加载”或者静态加载</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// CommonJS模块</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> _fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> stat <span class="token operator">=</span> _fs<span class="token punctuation">.</span>stat<span class="token punctuation">;</span>
<span class="token keyword">let</span> exists <span class="token operator">=</span> _fs<span class="token punctuation">.</span>exists<span class="token punctuation">;</span>
<span class="token keyword">let</span> readfile <span class="token operator">=</span> _fs<span class="token punctuation">.</span>readfile<span class="token punctuation">;</span>

<span class="token comment">// ES6模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>export</code>命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系</li> <li><code>export</code>语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时的值</li> <li><code>import</code>命令输入的变量都是只读的，因为它的本质是输入接口</li> <li><code>import</code>语句会执行所加载的模块</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 报错</span>
<span class="token keyword">export</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 报错</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> m<span class="token punctuation">;</span>

<span class="token comment">// 写法一</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>m<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 写法三</span>
<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>n <span class="token keyword">as</span> m<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="import"><a href="#import" class="header-anchor">#</a> import()</h3> <ul><li><code>import()</code>返回一个 <code>Promise</code> 对象</li> <li><code>import()</code>函数可以用在任何地方，不仅仅是模块，非模块的脚本也可以使用。它是运行时执行，也就是说，什么时候运行到这一句，就会加载指定的模块</li> <li><code>import()</code>函数与所加载的模块没有静态连接关系，这点也是与<code>import</code>语句不相同</li> <li><code>import()</code>类似于 Node 的<code>require</code>方法，区别主要是前者是异步加载，后者是同步加载</li></ul> <h2 id="_2-数据类型"><a href="#_2-数据类型" class="header-anchor">#</a> 2. 数据类型</h2> <p>ES5中有6种基本数据类型：<code>String</code>、<code>Number</code>、<code>Boolean</code>、<code>Null</code>、<code>Undefined</code>、<code>Object</code>，前五种为简单数据类型，<code>Object</code>为复杂数据类型
ES6中新增<code>Symbol</code>数据类型</p> <ul><li><code>undefined</code>是只声明未定义，<code>null</code>是指一个空对象指针</li> <li>只要意在保存对象的变量还没有真正保存对象，就应该明确地让该变量保存<code>null</code>值，有利于区分<code>null</code>和<code>undefined</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token comment">// object</span>
</code></pre></div><p>JS中常用引用类型<code>Object</code>、<code>Array</code>、<code>Date</code>、<code>RegExp</code>、<code>JSON</code>、<code>Function</code>
特殊的引用类型基本包装类型<code>String</code>、<code>Number</code>、<code>Boolean</code></p> <ul><li><code>Number</code>、<code>Boolean</code>重写了<code>valueOf</code>、<code>toString</code>、<code>toLocaleString</code>方法</li> <li>在读取这个三类型的变量时，会创建临时对应的实例，在实例上调用制定的方法，再销毁这个实例</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span><span class="token comment">//基本数据类型</span>
str<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;ll&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;HH&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//基本数据类型不能调用函数方法，此时已经将str转换为基本包装类，内部浏览器转换代码var str = new String(&quot;hello&quot;);</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在控制台输出结果</span>
</code></pre></div><h2 id="_3-类型判断"><a href="#_3-类型判断" class="header-anchor">#</a> 3. 类型判断</h2> <ul><li>typeof</li> <li>instanceof</li> <li>Object.prototype.toString.call</li> <li>constructor</li></ul> <h3 id="typeof-能判断基本类型的值-new创建的类型都为object-null也是objcet-function为function"><a href="#typeof-能判断基本类型的值-new创建的类型都为object-null也是objcet-function为function" class="header-anchor">#</a> <code>typeof</code> 能判断基本类型的值，<code>new</code>创建的类型都为<code>object</code>，<code>null</code>也是<code>objcet</code>，<code>function</code>为<code>function</code></h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">&quot;Liesbeth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;string&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;number&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;boolean&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;undefined&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&quot;Liesbeth&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;function&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'object'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'object'</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'object'</span>
</code></pre></div><h3 id="instanceof-如果变量是给定引用类型的实例-就会返回true-不能识别基本类型-能识别所有引用类型和自定义对象"><a href="#instanceof-如果变量是给定引用类型的实例-就会返回true-不能识别基本类型-能识别所有引用类型和自定义对象" class="header-anchor">#</a> <code>instanceof</code>，如果变量是给定引用类型的实例，就会返回<code>true</code>，不能识别基本类型，能识别所有引用类型和自定义对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//能判别内置对象内型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true    </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span> <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

<span class="token comment">//不能判断原始类型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>

<span class="token comment">//判别自定义对象类型</span>
<span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span>x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">=</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Point</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token operator">=</span>r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Circle</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Circle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token operator">=</span>Circle<span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">Circle</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">Point</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div><h3 id="object-prototype-tostring-call-这个方法获取的是对象的-class-属性值-返回结果是固定的-object-class-属性-不能识别自定义对象-返回时大写开头"><a href="#object-prototype-tostring-call-这个方法获取的是对象的-class-属性值-返回结果是固定的-object-class-属性-不能识别自定义对象-返回时大写开头" class="header-anchor">#</a> <code>Object.prototype.toString.call</code>，这个方法获取的是对象的[[Class]]属性值，返回结果是固定的'[object'+[[class]]属性+']'，不能识别自定义对象,返回时大写开头</h3> <p>ie7和8中<code>null</code>和<code>undefined</code>都是返回&quot;<code>Object</code>&quot;，IE6中字符串也会返回&quot;<code>Object</code>&quot;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// String</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// Number</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Symbol</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//Function</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// Null</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// Undefined</span>
<span class="token comment">//c是自定义对象</span>
<span class="token function">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// Object</span>
</code></pre></div><h3 id="constructor-属性返回创建此对象的构造函数的引用-由于null和undefined没有构造函数所以特殊处理-constructor能判别原始类型-除null和undefined-内置对象和自定义对象"><a href="#constructor-属性返回创建此对象的构造函数的引用-由于null和undefined没有构造函数所以特殊处理-constructor能判别原始类型-除null和undefined-内置对象和自定义对象" class="header-anchor">#</a> <code>constructor</code> 属性返回创建此对象的构造函数的引用,由于<code>null</code>和<code>undefined</code>没有构造函数所以特殊处理,<code>constructor</code>能判别原始类型（除<code>null</code>和<code>undefined</code>），内置对象和自定义对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getConstructorName</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>obj<span class="token operator">===</span><span class="token keyword">undefined</span><span class="token operator">||</span>obj<span class="token operator">===</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">?</span>obj<span class="token operator">:</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor<span class="token operator">&amp;&amp;</span>obj<span class="token punctuation">.</span>
    constructor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">function\s*([^(]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">getConstructorName</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// Number</span>
<span class="token function">getConstructorName</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment">//  String</span>
<span class="token function">getConstructorName</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>  <span class="token comment">//  null</span>
<span class="token function">getConstructorName</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// Array</span>
<span class="token comment">//c是自定义对象</span>
<span class="token function">getConstructorName</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">// Circle</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/happy/base/css/module.html" class="prev">
        模块化
      </a></span> <span class="next"><a href="/happy/base/js/action-scope.html">
        作用域
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="happy/assets/js/app.0c253acf.js" defer></script><script src="happy/assets/js/2.5c7df89f.js" defer></script><script src="happy/assets/js/23.35348b5a.js" defer></script>
  </body>
</html>
